<!doctype html> 
<html lang="en">
  <head>
    <!-- META -->
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta content="utf-8" http-equiv="encoding">
    <meta name="K.D. Berends" contents">

    <title>RiverCare // [F1] Interactive visualisation</title>

    <!-- GOOGLE FONTS -->
    <link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet"> 
    <link href="https://fonts.googleapis.com/css?family=Oswald:200" rel="stylesheet"> 
    
    <!-- EXTERNAL STYLE SHEETS-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
          integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
          crossorigin=""/> 
    <link rel="stylesheet" type="text/css" href="css/thirdparty/leaflet-velocity.css"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.10.4/themes/flick/jquery-ui.css">
    
    
    <!-- LOCAL STYLE SHEETS-->
    <link rel="stylesheet" type="text/css" href="css/thirdparty/jquery-ui-slider-pips.css"/>
    <link rel="stylesheet" type="text/css" href="css/explore.css"/>
    <link rel="stylesheet" type="text/css" href="css/flatslider.css"/>
    <link rel="stylesheet" type="text/css" href="css/steadyflow.css"/>
    <link rel="stylesheet" type="text/css" href="css/ui.css"/>
    <link rel="stylesheet" type="text/css" href="css/map.css"/>
    <link rel="stylesheet" type="text/css" href="css/thirdparty/perfect-scrollbar.css"/>

    <!-- JAVASCRIPT -->
    <!-- Jquery is needed on load to trigger the welcome menu to pop out. 
         All other javascript is loaded at the end of the document to 
         speed up page load -->
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="https://code.jquery.com/ui/1.11.1/jquery-ui.js"></script>
                
    <!-- plus a jQuery UI theme, here I use "flick" -->
    <script src="js/thirdparty/jquery-ui-slider-pips.js"></script>
  </head>


<body>
  <!-- GitHub banner
  <a href="https://github.com/kdberends">
    <img style="position: absolute; top: 0; right: 0; border: 0;" 
         src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" 
         alt="Fork me on GitHub">
  </a>-->
  <!-- Background map -->
  <div id="map" class="map"></div>   

  <!-- Main content-->
  <main class="container overlay">
    <!-- NAVIGATION -->
  	<nav role="navigation">
  	  	<div id="menuToggle" onclick="toggleAppMenu()">
  		    <!--
  		    A fake / hidden checkbox is used as click receiver
  		    -->
  		    <input id="hiddenmenucheckbox" type="checkbox">
  		    <!--<script>$('#hiddenmenucheckbox').trigger('click')</script>-->
  		    <!--
  		    Some spans to act as a hamburger.
  		    -->
  		    <span></span>
  		    <span></span>
  		    <span></span>
  	</nav>
    <!-- app navigator -->
    <div id="appnavigation">
      <span id="app-info" class='app-active' onclick="toggleApp(0)"><i class="fas fa-info"></i></span>
      <span id="app-story" onclick="toggleApp(1)"><i class="fas fa-book-reader"></i></span>
      <span id="app-explore" onclick="toggleApp(2)"><i class="fas fa-compass"></i></span>
      <span id="app-compare" onclick="toggleApp(3)"><i class="fas fa-balance-scale"></i></span>
      <span id="app-article" onclick="toggleApp(4)"><i class="fas fa-graduation-cap"></i></span>
    </div>
    <!-- Main UI elements -->
    <div id='leftbar'>

      <!-- Glass/blur effect hack -->
      <div id="map_clone" class="map blur"></div>
      <div class="glass footer">
        
      <!-- Explore app -->
      <div id="InterventionPanel" class='appcontainer'>
        <div><svg id="ExploreCanvas" class='canvas'></svg></div>
        <div id="IntensitySwitchDiv" class='textframe frame-options'>
          <div class='cssmenu'>
            <ul>
               <li class='has-sub'><a href='#'>Choose intervention</a>
                  <ul>
                     <li class='no-sub'><a onclick='showReference()'>Reference</a></li>
                     <li class='no-sub' ><a onclick="showSmooth()">Mowing floodplains</a></li>
                     <li class='no-sub' ><a onclick="showRelo()">Dike relocation</a></li>
                     <li class='no-sub' ><a onclick="showGROYNLOW()">Groyne lowering</a></li>
                     <li class='no-sub' ><a onclick="showMINEMBLOW()">Embankment lowering</a></li>
                     <li class='no-sub' ><a onclick="showSIDECHAN()">Side channels</a></li>
                     <li class='no-sub' ><a onclick="showFLPLOW()">Floodplain lowering</a></li>
                  </ul>
               </li>
            </ul>
            </div>
          <!--
          <div class="dropdown">
              <div id="InterventionTitle" onclick="dropDownFunction()" class="dropbtn">KIES MAATREGEL</div>
              <div id="InterventionDropdown" class="dropdown-content">
                <a href="#"" onclick="showReference()">Referentiesituatie</a>
                <a href="#" onclick="showSmooth()">Maaien van de uiterwaarden</a>
                <a href="#" onclick="showRelo()">Dijkverlegging</a>
                <a href="#" onclick="showGROYNLOW()">Kribverlaging</a>
                <a href="#" onclick="showMINEMBLOW()">Kadeverlaging</a>
                <a href="#" onclick="showSIDECHAN()">Nevengeulen</a>
                <a href="#" onclick="showFLPLOW()">Uiterwaardvergraving</a>
              </div>
          Low intensity
          <label class="intensityswitch">
              <input type="checkbox">
              <span class="slider round"></span>
          </label>
          High intensity
        </div>-->
        </div>
        <div id="InterventionTable" class='textframe frame-summary'>
          <div id="InterventionEffect">Maximaal verwacht effect: 0 cm (--)</div>
          <div id="InterventionUncertainty">Relatieve onzekerheid: --% (--)</div>
        </div>
        <div id="Description" class='textframe frame-description'>
          <div id='InterventionDescription'></div>
        </div>
      </div> <!-- in'v info -->

      <!-- Flow app -->
      <div id="ComparePanel" class='appcontainer'>
        <div id='CompareCanvasDiv'><svg id="CompareCanvas" class='canvas'></svg></div>
        <div id="CompareOptions" class='textframe frame-options'>    
          <div class="vertical">
          <div id="flat-slider"></div>
            <div id="flat-slider-vertical-1"></div>
            <div id="flat-slider-vertical-2"></div>
            <div id="flat-slider-vertical-3"></div>
            <div id="flat-slider-vertical-4"></div>
          </div>
        </div>
        <div id="CompareDescription" class='textframe frame-description'>
           <div id='InterventionDescription'>
             Change the values to see how river flow reacts! 
             <br/><br/>
             (Some background: The water level and mean flow velocity are solved through the <a href='https://en.wikipedia.org/wiki/Jean-Baptiste-Charles-Joseph_B%C3%A9langer'>B√©langer</a> equation, while the vertical flow velocity is computed from the mean velocity following a turbulent flow profile.  )
           </div>
         </div>

      </div> 

      <!-- Story app -->
      <div id="StoryPanel" class='appcontainer'>
        <div id="StoryCanvas" class='canvas' style="font-size:144px; text-align:center;"> üßê</div>
        <div id="StoryOptions" class='textframe frame-options'>
            <div class="story-options-wrapper">
              <button onclick="previousStory();" class="story-ui-left"><i class="fas fa-angle-left"></i></button>
              <button onclick="resetStory();" class="story-ui-home"><i class="fas fa-home"></i></button>
              <button onclick="nextStory();" class="story-ui-right"><i class="fas fa-angle-right"></i></button>
            <div class="progress">63%</div>
          </div>
        </div>
        <div id="StoryFrame" class='textframe frame-description'>
          <div id="StoryText" class='storytext'>
        </div>
          
        </div>
      </div>

      <!-- About app -->
      <div id='AboutPanel'>
      	<div id="AboutContent">
         Hi! <i style="font-size:24px;" class="far fa-grin-beam"></i><br/> <br/>

              This website is about preventing river flooding. Or better about how <a>computer models</a> help river engineers to decrease <a>flood water levels</a> and prevent damage and loss of life. 

              <br/><br/>
              Our models (and common sense) tell us that <a target= "_blank" href='https://www.ruimtevoorderivier.nl/english/'>giving land (back) to the river</a> is very effective. 
              <br/><br/>
              The thing is, we don't precisely know what the water levels will be during a flood (Œá.Œá). This like predicting future weather: we can do it, but there is <a>uncertainty</a>. 

              <br/><br/>
              So what happens if we factor in uncertainty? Check out our results at your own pace:
              <ul>
                <li><a onclick="toggleApp(1)"><span><i style="color:white;font-size:24px;" class="fas fa-book-reader"></i></span> Story mode</a>. <br/>Brief tour past the most important findings.</li>
               <li><a onclick="toggleApp(2)"><span><i style="color:white;font-size:24px;" class="fas fa-compass"></i></span> Explore mode</a>. <br/>Explore all simulation results by yourself.</li>
               <li><a onclick="toggleApp(3)"><span><i style="color:white;font-size:24px;" class="fas fa-balance-scale"></i></span> Compare mode</a>. <br/>See how uncertainy may change your choice.</li>
               <li><a><span><i style="color:white;font-size:24px;" class="fas fa-graduation-cap"></i></span> Academic mode</a>. <br/>Read our full paper and join the discussion.</li>
              </ul>

              <br/>All the best,<br/>
              <a target="_blank" href="https://people.utwente.nl/k.d.berends?tab=about-me" class='external-link'>Koen</a>
              <br/><br/>
              <hr>
              <span style="font-size: 12px;">PS. This website is part of my (ongoing) <a>PhD research</a>. Check out the links below to learn more about my research and that of my fellow researchers. </span>
            
            
            
              <hr>
              More information: <br/>
              <a href="">The academic publication</a> <br/>
              <a href="">The 'cora' Python package</a> <br/>
              <a href="">RiverScape</a> <br/>
            
            
            Map attribution: <br/><br/>
              &copy; <a href="https://leafletjs.com/">LeafletJS</a> <br/>
              &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <br/>
              &copy; <a href="http://cartodb.com/attributions">CartoDB</a>
              <hr>
              Affiliations of researchers:
              <div></div>
              <hr>
              We are grateful for the support of:
              
              <div>
                <img src="img/rivercarelogo_black.svg" style="max-width: 300px;margin-top:10px"></img>
                <img src="img/ncrlogo_text.svg" style="max-width: 300px;margin-top:10px"></img>
              </div>
              <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
          </div>
      </div> <!-- about -->

      <!-- Paper app -->
      <div id="PaperPanel">
        <div id="PaperContent">
          <h2> <img style="width: 20px;" src="https://upload.wikimedia.org/wikipedia/commons/7/77/Open_Access_logo_PLoS_transparent.svg"></img> Journal paper </h2>
          While peer review is ongoing, our paper is available from the journal Natural Hazards and Earth system sciences Discussions: <a href="https://www.nat-hazards-earth-syst-sci-discuss.net/nhess-2018-325">Direct link</a>

          <h2>Tools</h2>
          We use a number of tools & software systems in our study:
          <a href="https://github.com/kdberends/coral"><img style="width:100%" src="https://raw.githubusercontent.com/kdberends/coral/master/coralfig.svg?sanitize=true"></a>
          <h3><img style="width: 20px" src="https://oss.deltares.nl/image/image_gallery?uuid=13baea0c-1a8c-44c4-b4fa-89c7d4d68f3c&groupId=183920&t=1352473709104"></img> Delft3D Flexible Mesh</h3></div>
          <h3>RiverScape</h3>

          </div>
      </div> <!-- about -->
      </div> <!-- cont' background -->

    </div> <!-- grid -->
  </main>

  <!-- FOOTER -->
  <div id='version-number-box'>
    <img src='https://upload.wikimedia.org/wikipedia/commons/thumb/d/d0/CC-BY-SA_icon.svg/88px-CC-BY-SA_icon.svg.png'></img>
    <span id="version-number-site"> Bladieblabla </span>
    <span id="version-number-flow"> Bladieblabla </span>
    <span id="version-number-explore"> Bladieblabla </span>
    
    <span> (tldr; Attribute & share alike)</span>
  </div>
  <footer>
      <img src="img/footerlogo.svg" class="logo-footer"></img>
  </footer>
</body>

<!-- LOAD THIRDPARTY JS -->
<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
<script src="js/thirdparty/leaflet-velocity.js"></script>
<script src="js/thirdparty/L.Map.Sync.js"></script>
<script src="js/thirdparty/d3.js"></script>
<script src="https://d3js.org/d3-timer.v1.min.js"></script>
<script src="js/thirdparty/perfect-scrollbar.js"></script>

<!-- LOAD JS -->
<script src="js/scroller.js"></script>
<script src="js/data.js"></script>
<script src="js/protoSchematicRiverChart.js"></script>
<script src="js/protoSteadyFlowApp.js"></script>
<script src="js/protoCompareChart.js"></script>
<script src="js/explore.js"></script>
</html>
